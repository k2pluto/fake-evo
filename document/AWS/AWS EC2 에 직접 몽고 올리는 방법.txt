1. EC2 서비스 선택 > 인스턴스 메뉴 선택
2. 인스턴스 시작
	1. 커뮤니티 AMI 메뉴 선택 > 기타 Linux 선택
	3. Amazon Linux AMI 2018.03.0 (HVM), SSD Volume Type 버전 선택
	7. 보안 그룹 셋팅
	8. 생성
3. 볼륨 추가(인슨턴스의 가용 영역에 추가한다 ap-northeast-2a or ap-northeast-2c)
	1. 범용 SSD 선택
	2. 크기 선택
	3. 가용영역 설정 ap-northeast-2a
	4. 생성
3. ec2 접속
	1. putty 에 주소 등록
4. 원격 접속
5. 설정 시작
	1. 볼륨 마운트(마운트 폴더는 /adv/) 참고 - https://www.lesstif.com/pages/viewpage.action?pageId=36208717
		0. sudo su
		1. > lsblk 명령어로 마운트한 볼륨이름 확인 ex) xvdf 1000G disk
		2. > sudo file -s /dev/nvme1n1
		3. mkfs -t xfs /dev/nvme1n1 // 포맷 
		4. mkdir /data
		5. mount /dev/nvme1n1 /data
		6. 재시작할 때 자동으로 볼륨 마운트 하기
			1. 파일 열기 /etc/fstab
			2. 내용 추가 /dev/nvme1n1 /data ext4 defaults,noatime 1 1

6. mongodb 사이트의 메뉴얼 참조
https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-amazon/

7. /etc/yum.repos.d/mongodb-org-{몽고버전}.repo 파일을 만들어서 거기에 아래 내용을 추가 (arm64면 x86_64 대신에 aarch64 로 바꿔준다)
[mongodb-org-6.0]
name=MongoDB Repository
baseurl=https://repo.mongodb.org/yum/amazon/2/mongodb-org/6.0/x86_64/
gpgcheck=1
enabled=1
gpgkey=https://www.mongodb.org/static/pgp/server-6.0.asc

8. yum 으로 설치
sudo yum install -y mongodb-org

9. /etc/mongod.conf 를 열어서
9-1 dbPath와 systemLog path를 ebs path 로 바꿔준다.
9-2 net의 bindIp를 0.0.0.0 으로 바꿔준다.

10 sudo chown -R mongod:mongod /data/mongo/ 으로 ebs path 에 mongod 권한을 추가해 준다.

11. service mongod start 로 몽고db를 시작

12. 몽고db 클라이언트로 권한없이 로그인 한 후 db.createUser({user: "mindu", pwd: "1234!", roles:["root"]}); 로 root 계정 생성
(생성 하면 admin DB의 system.users 콜렉션이 생긴 후 user가 들어 있어야 한다.

13 /etc/mongod.conf를 다시 열어서 security를 authorization: enabled 를 추가해 준다.

14. service mongod restart 로 몽고db를 다시 시작

