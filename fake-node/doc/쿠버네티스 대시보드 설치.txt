1. 헬름 설치 (현재 헬름으로만 설치 지원한다.)
curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
chmod 700 get_helm.sh
./get_helm.sh

2. PATH 추가 (임시로만 추가해도 될듯?)
export PATH=$PATH:/usr/local/bin

3. values.yaml 파일을 github에서 복사한 후 https://github.com/kubernetes/dashboard/blob/master/charts/kubernetes-dashboard/values.yaml
아래와 같이 수정한다.
app.tolerations 에 아래와 같이 추가
    - key: node-role.kubernetes.io/control-plane
      effect: NoSchedule

kong.proxy.type 을 ClusterIP 에서 NodePort 로 변경
kong.proxy 에 아래와 같은 내용 추가
    tls:
      enabled: true
      servicePort: 443
      containerPort: 8443
      nodePort: 30880
kong.tolerations 에 아래와 같이 추가
    - key: node-role.kubernetes.io/control-plane
      effect: NoSchedule

3. 대시 보드 설치 (values.yaml 을 받아서 수정해서 올려야 외부에서 접속 가능해진다.)
# Add kubernetes-dashboard repository
helm repo add kubernetes-dashboard https://kubernetes.github.io/dashboard/
# Deploy a Helm Release named "kubernetes-dashboard" using the kubernetes-dashboard chart with values.yaml
helm upgrade --install kubernetes-dashboard kubernetes-dashboard/kubernetes-dashboard --create-namespace --namespace kubernetes-dashboard -f values.yaml

4. 그 후 외부에서 30880 포트로 열리는지 확인

5. 대시보드에서 토큰을 입력하는 부분이 나오면 참고 자료에 대시보드 유저 yaml 을 dashboard-user.yaml 로 서버에 저장후 아래와 같이 apply 한다
kubectl apply -f dashboard-user.yaml

6. 토큰을 얻는 명령어를 입력하고 나온 토큰을 대시보드에 입력후 접속하면 됨
kubectl -n kubernetes-dashboard create token admin-user

참고. 헬름 명령어 들
# Add kubernetes-dashboard repository
helm repo add kubernetes-dashboard https://kubernetes.github.io/dashboard/
# Deploy a Helm Release named "kubernetes-dashboard" using the kubernetes-dashboard chart
helm upgrade --install kubernetes-dashboard kubernetes-dashboard/kubernetes-dashboard --create-namespace --namespace kubernetes-dashboard
# Deploy a Helm Release named "kubernetes-dashboard" using the kubernetes-dashboard chart with values.yaml
helm upgrade --install kubernetes-dashboard kubernetes-dashboard/kubernetes-dashboard --create-namespace --namespace kubernetes-dashboard -f values.yaml

# Uninstall dashboard
helm delete kubernetes-dashboard --namespace kubernetes-dashboard

